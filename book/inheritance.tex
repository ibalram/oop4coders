%=====================================================================
\ifx\wholebook\relax\else
	\documentclass{KodeBook}
	\input{calls}
	\begin{document}
		\mainmatter
	
\fi
%=====================================================================

\chapter{Inheritance}

\begin{introduction}
	Inheritance is one of the core concepts of OOP. 
	It enables the definition of a new class called subclass based on an existing one called superclass. 
	This allows us to reuse the visible members of the superclass and add additional members. 
	Many languages create a relationship ``isa" between a subclass and its superclass (which is called subtyping).
	When a class inherits from many superclasses at once, that is called multiple inheritance. 
	This is not possible for all languages, since it leads to many problems such as diamond problem.
\end{introduction} 


\section{Single inheritance}

\subsection{C++}

In C++, to inherit from a class, you have to define an access mode. 
This access mode can be; public, protected or private.

\lstinputlisting[language={[KB]C++}, linerange={5-6,14-14}, style=codeStyle]{../codes/cpp/inheritance/single/student.h}

Public access mode preserve members access as they are. 
As for Protected access mode, public members of the superclass will be considered as protected. 
While Private access mode considers every member of the superclass as private.

\lstinputlisting[language={[KB]C++}, linerange={5-6,9-9}, style=codeStyle]{../codes/cpp/inheritance/single/professor.h}



\subsection{Java}

When inheriting from a class which has the default constructor (without parameters), you do not have to define a constructor explicitly unless you want to include some other initializations. 
But, if the superclass defines just constructors with parameters, you have to redefine the constructor of your new subclass.

\lstinputlisting[language={[KB]Java}, linerange={3-8,11-13,16-18,20-22}, style=codeStyle]{../codes/java/src/inheritance/single/Person.java}

In this example, if we want to extend the class, we have to define a constructor explicitly. 
This constructor has to call the superclass's explicitly using the keyword \keyword{super}.
This call must be the first thing to do before any other instruction.
Also, we can override its methods and reuse those of the superclass using the keyword \keyword{super}.

\lstinputlisting[language={[KB]Java}, linerange={3-17}, style=codeStyle]{../codes/java/src/inheritance/single/Student.java}

You cannot assign weaker access privileges when overriding a method, but the inverse is permitted. 
As for fields, you cannot override a field. 
If you define a field with the same name as in the superclass, you will still access that of the superclass inside the subclass using the keyword \keyword{super}.

\lstinputlisting[language={[KB]Java}, linerange={3-16}, style=codeStyle]{../codes/java/src/inheritance/single/Professor.java}

If the field of the superclass is public and you define a private field with the same name in its subclass, you will no longer be able to access it outside the subclass.

\lstinputlisting[language={[KB]Java}, linerange={5-11,20-20}, style=codeStyle]{../codes/java/src/inheritance/single/App.java}

You cannot access grandparent's members directly using \keyword{super.super}, you can just access the parent's using \keyword{super}. 

\lstinputlisting[language={[KB]Java}, linerange={5-11,19-19}, style=codeStyle]{../codes/java/src/inheritance/single/GradStudent.java}


\subsection{Javascript} 

%\lstinputlisting[language={[KB]Javascript}, linerange={19-29}, style=codeStyle]{../codes/javascript/inheritance/decorate.js}

\subsection{Lua}

%\lstinputlisting[language={[KB]Lua}, linerange={1-6}, style=codeStyle]{../codes/lua/inheritance/app.lua}

\subsection{Perl}

%\lstinputlisting[language={[KB]Perl}, linerange={20-22}, style=codeStyle]{../codes/perl/inheritance/public.pl}

\subsection{PHP}

%\lstinputlisting[language={[KB]PHP}, linerange={3-3,6-6,8-9,17-17}, style=codeStyle]{../codes/php/inheritance/app.php}

\subsection{Python}

%\lstinputlisting[language={[KB]Python}, linerange={4-7, 9-9, 13-13}, style=codeStyle]{../codes/python/inheritance/app.py}

\subsection{Ruby}

%\lstinputlisting[language={[KB]Ruby}, linerange={6-9,14-14,20-20}, style=codeStyle]{../codes/ruby/inheritance/app.rb}



\section{Abstract class}

An abstract class is a class which cannot be instantiated, but can be extended.


\subsection{C++}

A class is abstract when it has at least one pure virtual method. 
Hence, you cannot have an abstract class with only fields.

%\lstinputlisting[language={[KB]C++}, linerange={1-3,6-7,25-26}, style=codeStyle]{../codes/cpp/inheritance/person.h}

\subsection{Java}

An abstract class is defined by the keyword \keyword{abstract}. 
It does not have to contain an abstract method, which means you can have an abstract class with just fields. 
If the class has at least one abstract method, you have to design it as abstract explicitly.

\lstinputlisting[language={[KB]Java}, linerange={3-12}, style=codeStyle]{../codes/java/src/inheritance/abst/Person.java}

The abstract methods must be overridden in the concrete subclasses

\lstinputlisting[language={[KB]Java}, linerange={3-9}, style=codeStyle]{../codes/java/src/inheritance/abst/Professor.java}

If a class does not override all abstract methods of its superclass, it has to be designed as abstract. 

\lstinputlisting[language={[KB]Java}, linerange={3-4}, style=codeStyle]{../codes/java/src/inheritance/abst/Student.java}

You can instantiate just the non-abstract classes

\lstinputlisting[language={[KB]Java}, linerange={6-9}, style=codeStyle]{../codes/java/src/inheritance/abst/App.java}

\subsection{Javascript} 

%\lstinputlisting[language={[KB]Javascript}, linerange={19-29}, style=codeStyle]{../codes/javascript/inheritance/decorate.js}

\subsection{Lua}

%\lstinputlisting[language={[KB]Lua}, linerange={1-6}, style=codeStyle]{../codes/lua/inheritance/app.lua}

\subsection{Perl}

%\lstinputlisting[language={[KB]Perl}, linerange={20-22}, style=codeStyle]{../codes/perl/inheritance/public.pl}

\subsection{PHP}

%\lstinputlisting[language={[KB]PHP}, linerange={3-3,6-6,8-9,17-17}, style=codeStyle]{../codes/php/inheritance/app.php}

\subsection{Python}

%\lstinputlisting[language={[KB]Python}, linerange={4-7, 9-9, 13-13}, style=codeStyle]{../codes/python/inheritance/app.py}

\subsection{Ruby}

%\lstinputlisting[language={[KB]Ruby}, linerange={6-9,14-14,20-20}, style=codeStyle]{../codes/ruby/inheritance/app.rb}


\section{Final class}

A final class is a class which cannot be extended. 

\subsection{C++}

%\lstinputlisting[language={[KB]C++}, linerange={1-3,6-7,25-26}, style=codeStyle]{../codes/cpp/inheritance/person.h}

\subsection{Java}

%\lstinputlisting[language={[KB]Java}, linerange={1-5,12-12,18-20,27-27,34-34}, style=codeStyle]{../codes/java/src/inheritance/core/Person.java}

\subsection{Javascript} 

%\lstinputlisting[language={[KB]Javascript}, linerange={19-29}, style=codeStyle]{../codes/javascript/inheritance/decorate.js}

\subsection{Lua}

%\lstinputlisting[language={[KB]Lua}, linerange={1-6}, style=codeStyle]{../codes/lua/inheritance/app.lua}

\subsection{Perl}

%\lstinputlisting[language={[KB]Perl}, linerange={20-22}, style=codeStyle]{../codes/perl/inheritance/public.pl}

\subsection{PHP}

%\lstinputlisting[language={[KB]PHP}, linerange={3-3,6-6,8-9,17-17}, style=codeStyle]{../codes/php/inheritance/app.php}

\subsection{Python}

%\lstinputlisting[language={[KB]Python}, linerange={4-7, 9-9, 13-13}, style=codeStyle]{../codes/python/inheritance/app.py}

\subsection{Ruby}

%\lstinputlisting[language={[KB]Ruby}, linerange={6-9,14-14,20-20}, style=codeStyle]{../codes/ruby/inheritance/app.rb}



\section{Multiple inheritance}

\subsection{C++}

%\lstinputlisting[language={[KB]C++}, linerange={1-3,6-7,25-26}, style=codeStyle]{../codes/cpp/inheritance/person.h}

\subsection{Java}

%\lstinputlisting[language={[KB]Java}, linerange={1-5,12-12,18-20,27-27,34-34}, style=codeStyle]{../codes/java/src/inheritance/core/Person.java}

\subsection{Javascript} 

%\lstinputlisting[language={[KB]Javascript}, linerange={19-29}, style=codeStyle]{../codes/javascript/inheritance/decorate.js}

\subsection{Lua}

%\lstinputlisting[language={[KB]Lua}, linerange={1-6}, style=codeStyle]{../codes/lua/inheritance/app.lua}

\subsection{Perl}

%\lstinputlisting[language={[KB]Perl}, linerange={20-22}, style=codeStyle]{../codes/perl/inheritance/public.pl}

\subsection{PHP}

%\lstinputlisting[language={[KB]PHP}, linerange={3-3,6-6,8-9,17-17}, style=codeStyle]{../codes/php/inheritance/app.php}

\subsection{Python}

%\lstinputlisting[language={[KB]Python}, linerange={4-7, 9-9, 13-13}, style=codeStyle]{../codes/python/inheritance/app.py}

\subsection{Ruby}

hh

%\lstinputlisting[language={[KB]Ruby}, linerange={6-9,14-14,20-20}, style=codeStyle]{../codes/ruby/inheritance/app.rb}



%=====================================================================
\ifx\wholebook\relax\else
% \cleardoublepage
% \bibliographystyle{../use/ESIbib}
% \bibliography{../bib/RATstat}
	\end{document}
\fi
%=====================================================================